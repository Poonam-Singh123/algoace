<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3637. Count Paths With the Given XOR Value</title>
    <link rel="stylesheet" href="/styles.min.css" />
    <link rel="stylesheet" href="/styles.css" />
    <script src="/solution.js"></script>
</head>
<body>
    <main>
        <h1>LeetCode 3637: Count Paths With the Given XOR Value (C++)</h1>

        <div class="problem-description">
            <p><strong>Problem:</strong>
                You are given a 2D integer array grid with size m x n. You are also given an integer k. Your task is to calculate the number of paths you can take from the top-left cell (0, 0) to the bottom-right cell (m - 1, n - 1) satisfying the following constraints: You can either move to the right or down. The path should not contain any cell more than once. The XOR of all the numbers on the path should be equal to k. Return the total number of such paths. Since the answer can be very large, return the result modulo 10<sup>9</sup> + 7.
            </p>
            <p><strong>Example:</strong>
                Input: grid = [[2,1,5],[7,10,0],[12,6,4]], k = 11<br/>
                Output: 3<br/>
                Explanation: The 3 paths are: (0,0) -&gt; (1,0) -&gt; (2,0) -&gt; (2,1) -&gt; (2,2), (0,0) -&gt; (0,1) -&gt; (0,2) -&gt; (1,2) -&gt; (2,2), (0,0) -&gt; (0,1) -&gt; (1,1) -&gt; (2,1) -&gt; (2,2).<br/><br/>
                Input: grid = [[1,3,3,3],[0,3,3,2],[3,0,1,1]], k = 2<br/>
                Output: 5<br/>
                Explanation: There are 5 paths with XOR equal to 2.<br/><br/>
                Input: grid = [[1,1,1,2],[3,0,3,2],[3,0,2,2]], k = 10<br/>
                Output: 0<br/>
                Explanation: There are no paths with XOR equal to 10.
            </p>
        </div>

        <div class="code-container">
            <button class="copy-button" onclick="copyCode(this)">Copy Code</button>
            <pre><code class="language-cpp">class Solution {
public:
    int countPathsWithXorValue(vector&lt;vector&lt;int&gt;&gt;&amp; grid, int k) {
        const int MOD = 1e9 + 7;
        int m = grid.size();
        int n = grid[0].size();
        
        // dp[i][j][xorVal] = number of paths from (0,0) to (i,j) with XOR = xorVal
        vector&lt;vector&lt;unordered_map&lt;int, int&gt;&gt;&gt; dp(m, vector&lt;unordered_map&lt;int, int&gt;&gt;(n));
        
        // Base case
        dp[0][0][grid[0][0]] = 1;
        
        // Fill the DP table
        for (int i = 0; i &lt; m; i++) {
            for (int j = 0; j &lt; n; j++) {
                if (i == 0 &amp;&amp; j == 0) continue;
                
                // From top
                if (i &gt; 0) {
                    for (auto&amp; [xorVal, count] : dp[i - 1][j]) {
                        int newXor = xorVal ^ grid[i][j];
                        dp[i][j][newXor] = (dp[i][j][newXor] + count) % MOD;
                    }
                }
                
                // From left
                if (j &gt; 0) {
                    for (auto&amp; [xorVal, count] : dp[i][j - 1]) {
                        int newXor = xorVal ^ grid[i][j];
                        dp[i][j][newXor] = (dp[i][j][newXor] + count) % MOD;
                    }
                }
            }
        }
        
        return dp[m - 1][n - 1][k];
    }
};</code></pre>
        </div>

        <a href="/" class="back-link">‚Üê Back to Home</a>
    </main>
</body>
</html>