<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
        LeetCode 3318: Find X-Sum of All K-Long Subarrays I (C++)
    </title>
    <link rel="stylesheet" href="/styles.min.css" />
    <link rel="stylesheet" href="/styles.css" />
    <script src="/solution.js"></script>
</head>

<body>
    <main>
        <h1>LeetCode 3318: Find X-Sum of All K-Long Subarrays I (C++)</h1>

        <div class="problem-description">
            <p><strong>Problem:</strong>
                You are given an array nums of n integers and two positive integers k and x. The x-sum of an array is calculated by the following procedure: Count the occurrences of all elements in the array. Keep only the occurrences of the top x most frequent elements. If two elements have the same number of occurrences, the element with the bigger value is considered more frequent. Calculate the sum of the resulting array. Return an integer array answer of length n - k + 1 where answer[i] is the x-sum of the subarray nums[i..i + k - 1].
            </p>
            <p><strong>Example:</strong>
                Input: nums = [1,1,2,2,3,4,2,3], k = 6, x = 2<br>
                Output: [6,10,12]<br>
                Explanation: For subarray [1,1,2,2,3,4], top 2 frequent are 2 (occurs 3 times) and 1 (occurs 2 times), sum = 2*3 + 1*2 = 8.
            </p>
        </div>

        <div class="code-container">
            <button class="copy-button" onclick="copyCode(this)">Copy Code</button>
            <pre><code class="language-cpp">class Solution {
public:
    vector&lt;int&gt; findXSum(vector&lt;int&gt;&amp; nums, int k, int x) {
        int n = nums.size();
        vector&lt;int&gt; answer;
        
        // Process each k-length subarray
        for (int i = 0; i &lt;= n - k; i++) {
            // Count frequency of each element in current subarray
            unordered_map&lt;int, int&gt; freq;
            for (int j = i; j &lt; i + k; j++) {
                freq[nums[j]]++;
            }
            
            // Create vector of {frequency, value} pairs
            vector&lt;pair&lt;int, int&gt;&gt; freqPairs;
            for (auto&amp; [value, count] : freq) {
                freqPairs.push_back({count, value});
            }
            
            // Sort by frequency (descending), then by value (descending)
            sort(freqPairs.begin(), freqPairs.end(), [](auto&amp; a, auto&amp; b) {
                if (a.first == b.first) {
                    return a.second &gt; b.second; // Higher value first
                }
                return a.first &gt; b.first; // Higher frequency first
            });
            
            // Calculate x-sum: sum of top x most frequent elements
            int xSum = 0;
            int count = min(x, (int)freqPairs.size());
            for (int j = 0; j &lt; count; j++) {
                xSum += freqPairs[j].first * freqPairs[j].second;
            }
            
            answer.push_back(xSum);
        }
        
        return answer;
    }
};</code></pre>
        </div>

        <a href="/" class="back-link">‚Üê Back to Home</a>
    </main>
</body>

</html>